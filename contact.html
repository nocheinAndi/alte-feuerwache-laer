<!DOCTYPE html>
<html lang="de" class="h-100" prefix="og: https://ogp.me/ns#">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Alte Feuerwache in Laer - Ein Wohnprojekt im Aufbau">
    <meta name="keywords" content="Wohnprojekt, Laer, Bochum, Alte Feuerwache, Wohnen, Gemeinschaft, Ruhrgebiet, Ruhrpott">
    <meta name="author" content="Alte Feuerwache Laer">
    <meta name="robots" content="index, follow">
    <meta name="geo.region" content="DE-NRW">
    <meta name="geo.placename" content="Bochum">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://alte-feuerwache-laer.de/contact.html">
    <meta property="og:title" content="Alte Feuerwache Laer - Kontakt">
    <meta property="og:description" content="Ein Wohnprojekt im Aufbau">
    <meta property="og:image" content="https://alte-feuerwache-laer.de/logo.png">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://alte-feuerwache-laer.de/contact.html">

    <!-- Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <title>Kontakt - Alte Feuerwache Laer</title>
    <script type="text/javascript"
            src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
    </script>
    <script type="text/javascript">
        (function(){
           emailjs.init({
             publicKey: "MxCAUXjcJTK_9ATal",
             limitRate: {
                    throttle: 10000, // 10s
                    throttleIncrement: 1
                }
           });
        })();
    </script>
    <script>
        function handleFormSubmit(event) {
            event.preventDefault();
            
            // Einfache Validierung
            const vorname = document.getElementById('vorname').value;
            const nachname = document.getElementById('nachname').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;
            
            if (!vorname || !nachname || !email || !message) {
                alert('Bitte füllen Sie alle Felder aus.');
                return false;
            }
            
            // Sending mail via EmailJS
            const serviceID = 'service_95df4q9';
            const templateID = 'template_rby2fkh';
            const templateParams = {
                name: vorname + ' ' + nachname,
                email: email,
                message: message
            };
            const recipient = 'andi.feldmann@gmail.com';
            const options = {
                from_name: recipient,
                reply_to: email
            };
            
            const submitButton = document.getElementById('submit-button');
            submitButton.disabled = true;
            submitButton.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Wird gesendet...';
            
            emailjs.send(serviceID, templateID, templateParams, options)
                .then(function(response) {
                    console.log('SUCCESS!', response.status, response.text);
                    // Show success message
                    const form = document.getElementById('contactForm');
                    form.style.display = 'none';
                    
                    const successMessage = document.createElement('div');
                    successMessage.className = 'alert alert-success';
                    successMessage.role = 'alert';
                    successMessage.innerHTML = `
                        <p>Dankeschön für Ihre Nachricht! Wir werden uns in Kürze bei Ihnen melden.</p>
                    `;
                    
                    document.querySelector('main').appendChild(successMessage);
                }, function(error) {
                    console.log('FAILED...', error);
                    const statusDiv = document.getElementById('form-status');
                    statusDiv.innerHTML = `
                        <div class="alert alert-danger" role="alert">
                            <i class="fas fa-exclamation-triangle me-2"></i>
                            Es gab ein Problem beim Senden Ihrer Nachricht. Bitte versuchen Sie es später erneut.
                        </div>
                    `;
                    submitButton.disabled = false;
                    submitButton.textContent = 'Erneut versuchen';
                });
            
            // Formular zurücksetzen
            event.target.reset();
            
            return false;
        }
    </script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="d-flex flex-column">
    <header class="text-white py-3 fixed-top w-100">
        <div class="container-fluid px-4 position-relative">
            <div class="row align-items-center">
                <div class="col text-center">
                    <h1 class="m-0"><a href="/" class="text-white text-decoration-none">Alte Feuerwache Laer</a></h1>
                </div>
                <div class="col-auto position-absolute end-0 pe-4">
                    <a href="contact.html" class="text-white text-decoration-none fw-bold">
                        <i class="fas fa-envelope d-inline d-sm-none"></i>
                        <span class="d-none d-sm-inline"><i class="fas fa-envelope me-1"></i>Kontakt</span>
                    </a>
                </div>
            </div>
        </div>
    </header>
    <main class="container mt-5 pt-5 pb-5 mb-5 d-flex flex-column align-items-center text-center">
        <form id="contactForm" class="row g-3 w-100" style="max-width: 500px;" onsubmit="return handleFormSubmit(event)">
            <h2 class="mb-4 text-start">Kontakt</h2>
            <div class="col-md-6">
                <input type="text" class="form-control" id="vorname" name="vorname" placeholder="Vorname" required>
            </div>
            <div class="col-md-6">
                <input type="text" class="form-control" id="nachname" name="nachname" placeholder="Nachname" required>
            </div>
            <div class="col-12">
                <input type="email" class="form-control" id="email" name="email" placeholder="E-Mail-Adresse" required>
            </div>
            <div class="col-12">
                <textarea class="form-control" id="message" name="message" rows="5" placeholder="Nachricht" required></textarea>
            </div>
            <div class="col-12">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="datenschutz" name="datenschutz" required>
                    <label class="form-check-label" for="datenschutz">
                        Ich habe die <a href="datenschutz.html" class="custom-link">Datenschutzerklärung</a> gelesen und stimme ihr zu.
                    </label>
                </div>
            </div>
            <div class="col-12 text-center">
                <button type="submit" class="btn btn-primary" id="submit-button">Absenden</button>
            </div>
            <div id="form-status" class="mt-3"></div>
            <style>
                .success-message {
                    display: none;
                    padding: 15px;
                    margin-top: 20px;
                    border-radius: 5px;
                    background-color: #d4edda;
                    color: #155724;
                    border: 1px solid #c3e6cb;
                }
                .error-message {
                    display: none;
                    padding: 15px;
                    margin-top: 20px;
                    border-radius: 5px;
                    background-color: #f8d7da;
                    color: #721c24;
                    border: 1px solid #f5c6cb;
                }
                </style>
        </form>
    </main>
    <footer class="text-white text-center py-3 fixed-bottom">
        <a href="/" class="text-white text-decoration-none fw-bold">
            <span class="d-none d-sm-inline"><i class="fas fa-home me-1"></i>Startseite</span>
            <i class="fas fa-home d-inline d-sm-none"></i>
        </a>
        <span class="mx-2">|</span>
        <a href="impressum.html" class="text-white text-decoration-none fw-bold">
            <span class="d-none d-sm-inline"><i class="fas fa-info-circle me-1"></i>Impressum</span>
            <i class="fas fa-info-circle d-inline d-sm-none"></i>
        </a>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>